# T-M1-3: OpenAI API 通信層の実装

| 項目 | 内容 |
|------|------|
| マイルストーン | M1 |
| 依存 | T-M1-1 |
| 要件ID | なし |

## 説明
OpenAI Chat Completions API との通信を担うモジュールを実装する。Preferences API から取得した API キーを使用し、エラー分類ロジックを含める。

## 作業内容
1. `src/services/openai.ts` を作成
2. OpenAI SDK のクライアント初期化関数を実装（Preferences から apiKey を取得）
3. `createChatCompletion()` 関数を実装:
   - 引数: Message 配列, モデル名
   - 戻り値: assistant の応答テキスト
   - stream: false で呼び出し
4. エラー分類関数を実装:
   - 401 → auth エラー（API キー無効）
   - 429 → rate_limit エラー（レート制限）
   - タイムアウト → timeout エラー
   - ネットワーク断 → network エラー
   - その他 → unknown エラー
5. API キーがログに出力されないことを確認

## タスクのチェックリスト
- [ ] OpenAI SDK クライアントが Preferences の API キーで初期化される
- [ ] createChatCompletion() が Message[] を受け取り応答テキストを返す
- [ ] stream: false が設定されている
- [ ] 401/429/タイムアウト/ネットワーク断が正しく分類される
- [ ] API キーがログに露出しない
